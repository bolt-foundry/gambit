"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.logMessage = logMessage;
exports.registerLogger = registerLogger;
function logMessage(environment, getMessage) {
    if (environment.loggers.size > 0) {
        const message = getMessage();
        for (const logger of environment.loggers) {
            try {
                logger.log(message);
            }
            catch (_a) { }
        }
    }
}
function registerLogger(environment, log) {
    const wrapped = { log };
    environment.loggers.add(wrapped);
    return () => {
        environment.loggers.delete(wrapped);
    };
}
